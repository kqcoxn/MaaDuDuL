# 分隔符渲染机制

<cite>
**本文档引用的文件**
- [interface.json](file://assets/interface.json)
- [分隔符.json](file://assets/resource/base/pipeline/其他/分隔符.json)
- [continuous_task.md](file://descs/others/continuous_task.md)
- [independent_task.md](file://descs/others/independent_task.md)
- [new_task.md](file://descs/others/new_task.md)
</cite>

## 目录
1. [分隔符任务定义规范](#分隔符任务定义规范)
2. [UI渲染标记与分组说明](#ui渲染标记与分组说明)
3. [前端渲染逻辑与设计原理](#前端渲染逻辑与设计原理)

## 分隔符任务定义规范

在 `interface.json` 文件中，分隔符任务通过特定的 JSON 结构进行定义。这些任务的 `name` 字段包含长破折号（如“——— 可连续任务 ———”），用于在用户界面中作为视觉分隔符。每个分隔符任务具有以下关键属性：

- **name**: 任务的显示名称，包含长破折号，用于在任务列表中作为分组标题。
- **label**: 任务的标签，通常与 `name` 相同或简化版本。
- **entry**: 作为 UI 渲染标记，用于标识该任务为分隔符类型。例如，“可连续任务分隔符”、“独立任务分隔符”和“新增任务分隔符”。
- **description**: 指向 Markdown 文档的路径，提供分组说明信息。

例如，`可连续任务` 分隔符的定义如下：
```json
{
    "name": " ——— 可连续任务 ———",
    "label": "——— 可连续任务 ———",
    "entry": "可连续任务分隔符",
    "description": "Resource/descs/others/continuous_task.md"
}
```

**Section sources**
- [interface.json](file://assets/interface.json#L52-L57)

## UI渲染标记与分组说明

分隔符任务的 `entry` 字段（如“可连续任务分隔符”）在前端界面中作为 UI 渲染标记，用于标识该任务为分隔符类型。前端根据 `entry` 字段的值来决定如何渲染该任务，通常将其显示为一个分组标题。

`description` 字段指向的 Markdown 文档提供了分组说明信息。这些文档在前端界面中以富文本形式展示，为用户提供详细的分组说明。例如，`continuous_task.md` 文件内容如下：
```markdown
## **可连续任务**

可连续任务指在完成当前任务后，可以自动继续执行下一个任务的任务类型。这类任务通常具有以下特点：

1. **收尾相接**：开始界面与结束界面都为主界面
2. **流程连贯**：多个任务之间形成一个完整的执行流程，无需人工干预

配置可连续任务时，需要注意任务之间的依赖关系和执行顺序，确保任务链能够正确执行。
```

这些 Markdown 文档的内容在前端界面中以富文本形式展示，帮助用户理解分组任务的特点和配置方法。

**Section sources**
- [interface.json](file://assets/interface.json#L52-L57)
- [continuous_task.md](file://descs/others/continuous_task.md#L1-L9)
- [independent_task.md](file://descs/others/independent_task.md#L1-L15)
- [new_task.md](file://descs/others/new_task.md#L1-L17)

## 前端渲染逻辑与设计原理

分隔符任务在前端渲染逻辑中不参与实际的执行流程，仅用于视觉分组和用户体验优化。其设计原理如下：

1. **非执行性**：分隔符任务的 `entry` 字段在任务执行流程中被识别为分隔符，不会触发任何实际的任务执行逻辑。
2. **视觉分组**：前端根据 `entry` 字段的值将任务列表划分为不同的组，每个分隔符任务作为一组的标题。
3. **用户体验优化**：通过分隔符任务，用户可以更清晰地理解任务列表的结构和分组，提高配置和管理任务的效率。

在 `分隔符.json` 文件中，分隔符任务的 `focus` 字段定义了在任务执行过程中显示的提示信息。例如：
```json
{
    "可连续任务分隔符": {
        "focus": "—— 即将执行可连续任务！——"
    },
    "独立任务分隔符": {
        "focus": "—— 即将执行独立任务！——"
    },
    "新增任务分隔符": {
        "focus": "请手动调整新增任务至合适位置！"
    }
}
```

这些提示信息在任务执行过程中显示，帮助用户了解当前执行的任务组。

**Section sources**
- [分隔符.json](file://assets/resource/base/pipeline/其他/分隔符.json#L1-L11)
- [interface.json](file://assets/interface.json#L52-L57)